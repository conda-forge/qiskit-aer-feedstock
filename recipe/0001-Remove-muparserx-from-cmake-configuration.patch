From f8ed32852921e97c4e2334cd26192de0d6dd23f0 Mon Sep 17 00:00:00 2001
From: Will Shanks <willshanks@us.ibm.com>
Date: Thu, 1 Feb 2024 16:11:42 -0500
Subject: [PATCH] Remove muparserx from cmake configuration

---
 CMakeLists.txt               | 1 -
 cmake/conan_utils.cmake      | 8 --------
 cmake/dependency_utils.cmake | 4 ----
 3 files changed, 13 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 517ce982..4308b44d 100755
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -542,7 +542,6 @@ set(AER_LIBRARIES
 
 set(AER_COMPILER_DEFINITIONS ${AER_COMPILER_DEFINITIONS} ${CONAN_DEFINES})
 if(SKBUILD) # Terra Addon build
-	set(AER_LIBRARIES ${AER_LIBRARIES} AER_DEPENDENCY_PKG::muparserx)
 	add_subdirectory(qiskit_aer/backends/wrappers)
 else() # Standalone build
 	set(AER_LIBRARIES
diff --git a/cmake/conan_utils.cmake b/cmake/conan_utils.cmake
index 8d4d252f..aefd4f85 100644
--- a/cmake/conan_utils.cmake
+++ b/cmake/conan_utils.cmake
@@ -35,14 +35,6 @@ macro(setup_conan)
         endif()
     endif()
 
-    if(SKBUILD)
-        set(REQUIREMENTS ${REQUIREMENTS} muparserx/4.0.8)
-        list(APPEND AER_CONAN_LIBS muparserx)
-        if(NOT MSVC)
-            set(CONAN_OPTIONS ${CONAN_OPTIONS} "muparserx:fPIC=True")
-        endif()
-    endif()
-
     if(AER_THRUST_BACKEND AND NOT AER_THRUST_BACKEND STREQUAL "CUDA" AND NOT AER_THRUST_BACKEND STREQUAL "ROCM")
         set(REQUIREMENTS ${REQUIREMENTS} thrust/1.9.5)
         list(APPEND AER_CONAN_LIBS thrust)
diff --git a/cmake/dependency_utils.cmake b/cmake/dependency_utils.cmake
index 71c1e92f..8fd3003a 100644
--- a/cmake/dependency_utils.cmake
+++ b/cmake/dependency_utils.cmake
@@ -26,10 +26,6 @@ macro(_use_system_libraries)
 	_import_aer_system_dependency(nlohmann_json 3.1.1)
 	_import_aer_system_dependency(spdlog 1.9.2)
 
-	if(SKBUILD)
-		_import_aer_system_dependency(muparserx 4.0.8)
-	endif()
-
 	if(AER_THRUST_BACKEND AND NOT AER_THRUST_BACKEND STREQUAL "CUDA")
 		string(TOLOWER ${AER_THRUST_BACKEND} THRUST_BACKEND)
 		_import_aer_system_dependency(Thrust 1.9.5)
-- 
2.43.0

